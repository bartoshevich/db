<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  {% include "meta__tags.njk" %} 

  


  <script src="{{ '/assets/scripts/critical--theme.js' | hashed }}"></script>
  <script src="{{ '/assets/scripts/registerServiceWorker.js' | hashed }}"></script>
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | hashed }}">

  <script>
    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ SW –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    window.addEventListener('load', () => {
      console.log('üöÄ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, Service Worker –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å SW —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥
      setTimeout(() => {
        if ('serviceWorker' in navigator && navigator.serviceWorker.controller) {
          console.log('‚úÖ Service Worker –∞–∫—Ç–∏–≤–µ–Ω –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É');
        } else if ('serviceWorker' in navigator) {
          console.log('‚è≥ Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω, –Ω–æ –µ—â–µ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É');
        }
      }, 2000);
    });
  </script>

  <!-- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–µ—Ç–∏ -->
  <script>
    // –ü—Ä–æ—Å—Ç–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–µ–≤–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ (–¥—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å SW –º–µ–Ω–µ–¥–∂–µ—Ä–∞)
    function updateOnlineStatus() {
      document.body.classList.toggle('offline', !navigator.onLine);
      
      // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
      if (!navigator.onLine) {
        console.log('üì¥ –ü–µ—Ä–µ—Ö–æ–¥ –≤ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º');
      } else {
        console.log('üåê –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
      }
    }

    // –°–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π —Å–µ—Ç–∏
    window.addEventListener('online', updateOnlineStatus);
    window.addEventListener('offline', updateOnlineStatus);
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    updateOnlineStatus();
    
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    async function checkRealConnection() {
      if (!navigator.onLine) return false;
      
      try {
        const response = await fetch('/favicon.ico', {
          method: 'HEAD',
          cache: 'no-cache'
        });
        return response.ok;
      } catch {
        return false;
      }
    }
    
    // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥)
    setInterval(async () => {
      const isReallyOnline = await checkRealConnection();
      document.body.classList.toggle('connection-slow', navigator.onLine && !isReallyOnline);
    }, 30000);
  </script>
  

  {% include "icons.njk" %}
</head>


<body class="body">
  <a href="#maincontent" class="element--hidden focusable">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É</a>
   <div class="body__container"> 
    
    {# –ù–æ–≤—ã–π –±–ª–æ–∫ –¥–ª—è –º–µ–Ω—é #}
    {% block page_menu %}
        {% include "header.njk" %}   
    {% endblock %}

       
    <main class="section__content" id="maincontent">
      {# –ù–æ–≤—ã–π –±–ª–æ–∫ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ #}
      {% block main_content %}
        {{ content | safe }} 
      {% endblock %}
    </main>
    
    {% include "footer.njk" %} 
  </div>


  <script defer src="{{ '/assets/scripts/main.bundle.js' | hashed }}"></script>
 
  <script data-collect-dnt="true" defer  src="https://scripts.simpleanalyticscdn.com/latest.js" crossorigin="anonymous"></script>
  {% include "schema.njk" %}

  {# –ù–æ–≤—ã–π –±–ª–æ–∫ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã #}
  {% block page_specific_scripts %}{% endblock %}

</body>

</html> 