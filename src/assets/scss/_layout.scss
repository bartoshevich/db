@use "./variables" as v;

/*  Limiting width of content */
.body__container {
  max-width: 1040px;
  margin-right: 16px; /* 2x8 */
  margin-left: 16px;
  display: flex;
  flex-direction: column;
  min-height: 100%;
}

@media (min-width: 40.0625em) {
  .body__container {
    margin-right: 24px; /* 3x8 */
    margin-left: 24px;
  }
}

@media (min-width: 1069px) {
  .body__container {
    margin-right: auto;
    margin-left: auto;
  }
}

.footer { flex: 0 0 auto; }
.buffer { flex: 8 0 auto; }

.section__content {
  flex: 1 0 auto;
  display: grid;
  grid-template-columns: 1fr;
  grid-row-gap: var(--space-xs); 
  row-gap: var(--space-xs);

  & p {
    /* Соответствие body line-height */
    line-height: 1.41176;
  }
}

.full-bleed-row {
  display: grid;
  grid-template-columns: 1fr;
  grid-row-gap: var(--space-xs);
  row-gap: var(--space-xs);
}

@media (min-width: 700px) {
  .section__content {
    min-width: 0;
    grid-template-columns: repeat(10, minmax(0, 1fr));
    grid-column-gap: var(--space-2xl);
    column-gap: var(--space-2xl);
  }
  
  .section__content > * { grid-column: 1/8; }

  .full-bleed-row {
    min-width: 0;
    display: grid;
    grid-template-columns: repeat(10, minmax(0, 1fr));
    grid-column-gap: var(--space-2xl);
    column-gap: var(--space-2xl);
  }

  .full-bleed-row > * { grid-column: 1/8; }
  .full-bleed { width: 100%; grid-column: 1/-1; max-width: 100%; }

  .grid-columns__default { grid-column: 1/8; }
  .grid-columns__first-one-half { grid-column: 1/6; }
  .grid-columns__last-one-half { grid-column: 6/-1; }
  .grid-column__first-one-third { grid-column: 1/4; }
  .grid-column__last-one-third { grid-column: 7/-1; }
  .grid-column__last-two-thirds { grid-column: 4/-1; }
  .grid-column__first-four { grid-column: 1/5; }
  .grid-column__last-six { grid-column: 5/-1; }
}

.row-gap--m {
  display: grid;
  grid-row-gap: var(--space-m);
  row-gap: var(--space-m);
  align-content: start;
}

.row-gap--lm {
  display: grid;
  grid-row-gap: var(--space-l-m);
  row-gap: var(--space-l-m);
  align-content: start;
}

.row-gap--l {
  display: grid;
  grid-row-gap: var(--space-l);
  row-gap: var(--space-l);
  align-content: start;
}

.row-gap--xl {
  display: grid;
  grid-row-gap: var(--space-xl);
  row-gap: var(--space-xl);
  align-content: start;
}

/* BLOCK */

@media (max-width: 1068px) {
  .block__item {
    display: grid;
    grid-template-columns: var(--space-xl-2xl) 1fr;
    grid-template-rows: min-content 1fr;
    grid-gap: var(--space-xs); 
  }

  .block__sign {
    grid-column: 1;
    grid-row: 1;
    border-top: 1px solid v.$text-colour;
    margin-top: var(--space-xs);
  }

  .block__name--full,
  .block__name { grid-column: 2; grid-row: 1; }
  .block__name--align-left { grid-column: 1 / 3; grid-row: 1; }
  .block__content { grid-column: 2; grid-row: 2; }
  .block__content--align-left { grid-column: 1 / 3; grid-row: 2; }
  .block__content--with-name { grid-column: 2/-1; grid-row: 2; }
  .block__content--with-name-same-line { grid-column: 2/-1; grid-row: 1; }
}

@media (min-width: 1069px) {
  .block__item {
    min-width: 0;
    display: grid;
    grid-template-columns: repeat(10, minmax(0, 1fr));
    grid-template-rows: 1fr;
    grid-column-gap: var(--space-2xl);
    column-gap: var(--space-2xl);
  }

  .block__item > * { grid-column: 1/8; }

  .block__sign {
    grid-column: 1;
    border-top: 1px solid v.$text-colour;
    margin-top: 16px;
  }

  .block__name { grid-column: 2/5; }
  .block__name--full { grid-column: 2 / -1; }
  .block__name--align-left { grid-column: 1 / 5; }
  .block__content { grid-column: 5/-1; }
  .block__content--align-left { grid-column: 5 / -1; }
  .block__content--with-name-same-line,
  .block__content--with-name { grid-column: 2/-1; }
}



.block__space--top-h2 { margin-top: var(--space-3xl); }
.block__space--top-h1 { margin-top: var(--space-7xl); }



/* Списки внутри грида тоже не должны иметь внешних отступов */
:where([class*="row-gap--"]) > ul,
:where([class*="row-gap--"]) > ol {
  margin: 0 !important;
}




/* =========================================
   СЕМАНТИЧЕСКИЕ ОТСТУПЫ (THE FLOW SYSTEM)
   Управляют вертикальным ритмом через margin-top.
   Применяются к <section>, <header>, <div>-оберткам.
   ========================================= */

/* 0. ТЕСНАЯ СВЯЗЬ (Tight)
   Минимальный архитектурный отступ.
   Используется внутри компонентов или для очень плотной группировки.
   Пример: Заголовок H3 -> Абзац. Картинка -> Подпись. Список -> Кнопка.
   ~24px (Space M)
*/
.space-tight {
  margin-top: var(--space-xs) !important;
}




/* 1. СВЯЗЬ (Connected)
   Когда следующий блок — это прямое продолжение предыдущего.
   Пример: Интро -> Кнопка действия. Картинка -> Подпись. 
   ~32px
*/
.space-connected {
  margin-top: var(--space-l) !important;
}

/* 2. БЛОК (Block)
   Стандартное разделение мыслей внутри одной большой темы.
   Пример: Между карточками услуг. Между текстом и формой подписки.
   ~48px
*/
.space-block {
  margin-top: var(--space-xl) !important;
}

/* 3. СЕКЦИЯ (Section) — Основной рабочий класс
   Начало новой темы. Обычно там, где стоит заголовок H2.
   Пример: "Обо мне" -> "Мои проекты".
   ~64px...80px
*/
.space-section {
  margin-top: var(--space-2xl) !important;
}

/* 4. ГЛАВА (Chapter) — Драматическая пауза
   Максимальный "воздух". Используется для смены контекста.
   Пример: После огромной Hero-картинки. Перед Подвалом.
   ~96px...120px
*/
.space-chapter {
  margin-top: var(--space-3xl) !important;
}

/* СБРОС
   Приклеить секцию вплотную (например, если у них общий цвет фона) 
*/
.space-none {
  margin-top: 0 !important;
}