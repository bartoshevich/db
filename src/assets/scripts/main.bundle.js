(()=>{(()=>{let t=document.querySelector(".menu__header"),e=document.querySelector(".menu__button");if(!e||!t)return;let n=()=>{let o=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",!o),e.classList.toggle("menu__button--open",!o),t.classList.toggle("menu__header--open",!o)};e.addEventListener("click",n),e.addEventListener("keydown",o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),n())}),window.addEventListener("click",o=>{!o.target.closest(".menu__header")&&!o.target.closest(".menu__button")&&(e.getAttribute("aria-expanded")==="true"&&e.setAttribute("aria-expanded","false"),t.classList.remove("menu__header--open"),e.classList.remove("menu__button--open"))})})();(()=>{let t=()=>{let e=document.querySelectorAll(".image-expand");e.length&&e.forEach(n=>{n.addEventListener("click",()=>{let o=n.dataset.url;o&&window.open(o,"_blank","noopener,noreferrer")})})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t,{once:!0}):t()})();(()=>{let o=" [\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A: https://bartoshevich.by]";document.addEventListener("copy",i=>{if(!i||!i.clipboardData)return;i.preventDefault();let s=window.getSelection(),a=s?s.toString():"";if(!a)return;if(a.length<=250){i.clipboardData.setData("text/plain",a);return}let r=Math.floor(Math.random()*1701)+300,c=a.substring(0,r);c=c.split(" ").join(" ");let d=c+o;i.clipboardData.setData("text/plain",d)})})();(()=>{if(typeof window>"u"||typeof document>"u")return;let t={MAX_CACHE_SIZE:100,cache:new Map,urlQueue:[],supportsPrefetch:()=>{let e=document.createElement("link"),n=e.relList&&e.relList.supports&&e.relList.supports("prefetch");return e=null,n},shouldPrefetch:e=>{let n=window.location.origin;return!(!e||e.startsWith("mailto:")||e.startsWith("tel:")||e.startsWith("http")&&!e.startsWith(n)||e.includes("#")||t.cache.has(e))},manageCacheSize:()=>{if(t.urlQueue.length>t.MAX_CACHE_SIZE){let e=t.urlQueue.shift(),n=t.cache.get(e);n&&n.parentNode&&n.parentNode.removeChild(n),t.cache.delete(e)}},prefetch:e=>{if(!t.shouldPrefetch(e))return;let n=document.createElement("link");n.rel="prefetch",n.href=e,n.as="document",n.onerror=()=>{t.cache.delete(e);let o=t.urlQueue.indexOf(e);o!==-1&&t.urlQueue.splice(o,1),n.parentNode&&n.parentNode.removeChild(n)},t.cache.set(e,n),t.urlQueue.push(e),t.manageCacheSize(),document.head.appendChild(n)},handleHover:e=>{if(!e||!e.target)return;let n=e.target.closest("a");if(!n)return;let o=n.getAttribute("href");o&&("requestIdleCallback"in window?requestIdleCallback(()=>t.prefetch(o)):setTimeout(()=>t.prefetch(o),100))},init:()=>{t.supportsPrefetch()&&document.addEventListener("mouseover",t.handleHover,{passive:!0})}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t.init,{once:!0}):t.init()})();(()=>{let t=()=>{let e=document.getElementById("random-article-button");if(!e)return;let n=Array.from(document.querySelectorAll(".article-link"));if(n.length===0){e.disabled=!0,e.style.opacity="0.5",e.style.cursor="not-allowed",e.title="\u041D\u0435\u0442 \u0441\u0442\u0430\u0442\u0435\u0439 \u0434\u043B\u044F \u0432\u044B\u0431\u043E\u0440\u0430",e.setAttribute("aria-disabled","true"),e.setAttribute("aria-label","\u041D\u0435\u0442 \u0441\u0442\u0430\u0442\u0435\u0439 \u0434\u043B\u044F \u0432\u044B\u0431\u043E\u0440\u0430");return}let o=i=>{i.classList.add("button-cooldown"),i.setAttribute("aria-disabled","true"),i.title="\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u0434\u043E\u0436\u0434\u0438\u0442\u0435...",setTimeout(()=>{i.classList.remove("button-cooldown"),i.removeAttribute("aria-disabled"),i.title="\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0441\u043B\u0443\u0447\u0430\u0439\u043D\u0443\u044E \u0441\u0442\u0430\u0442\u044C\u044E"},2e3)};e.addEventListener("click",i=>{if(e.classList.contains("button-cooldown")){i.preventDefault();return}try{o(e);let s=Math.floor(Math.random()*n.length),a=n[s];if(a&&a.href)try{setTimeout(()=>{let r=new URL(a.href,window.location.origin);r.searchParams.set("utm_source","random_button"),window.location.href=r.toString()},300)}catch{setTimeout(()=>{window.location.href=a.href},300)}else e.classList.remove("button-cooldown"),e.removeAttribute("aria-disabled")}catch{e.classList.remove("button-cooldown"),e.removeAttribute("aria-disabled")}}),e.addEventListener("keydown",i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),e.click())})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t,{once:!0}):t()})();var u="theme-preference",L=()=>localStorage.getItem(u)?localStorage.getItem(u):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",l={value:L()},b=()=>{l.value=l.value==="light"?"dark":"light",f()},f=()=>{localStorage.setItem(u,l.value),m()},m=()=>{document.firstElementChild.setAttribute("data-theme",l.value);let t=document.querySelector("#theme-toggle");t&&t.setAttribute("aria-label",l.value==="dark"?"\u041F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043D\u0430 \u0441\u0432\u0435\u0442\u043B\u0443\u044E \u0442\u0435\u043C\u0443":"\u041F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043D\u0430 \u0442\u0451\u043C\u043D\u0443\u044E \u0442\u0435\u043C\u0443")};m();window.onload=()=>{m();let t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",b)};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:t})=>{l.value=t?"dark":"light",f()});document.addEventListener("DOMContentLoaded",()=>{let t="https://www.youtube-nocookie.com/embed/",e="?rel=0&showinfo=0&autoplay=1",n=a=>{try{let r=a instanceof URL?a:new URL(a);return r.hostname==="youtu.be"?r.pathname.slice(1):r.hostname.includes("youtube.com")&&r.searchParams.has("v")?r.searchParams.get("v"):r.hostname.includes("youtube.com")&&r.pathname.startsWith("/embed/")?r.pathname.slice(7):null}catch(r){return console.warn("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u0430\u0440\u0441\u0438\u043D\u0433\u0435 YouTube URL:",r),null}},o=a=>{let r=document.createElement("iframe");return r.allowFullscreen=!0,r.allow="autoplay",r.classList.add("video__media"),r.loading="lazy",r.src=`${t}${a}${e}`,r},i=a=>{let r=a.querySelector(".video__link"),c=a.querySelector(".video__button");if(!r){console.warn("\u0412\u0438\u0434\u0435\u043E-\u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440 \u043D\u0435 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u0442 .video__link \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430");return}let d=n(r.href);if(!d){console.warn("\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0438\u0437\u0432\u043B\u0435\u0447\u044C ID \u0432\u0438\u0434\u0435\u043E \u0438\u0437 \u0441\u0441\u044B\u043B\u043A\u0438:",r.href);return}let h=p=>{if(p.preventDefault(),a.querySelector("iframe"))return;r&&r.remove(),c&&c.remove();let g=o(d);a.appendChild(g),a.removeEventListener("click",h)};a.addEventListener("click",h),a.classList.add("video--enabled")};document.querySelectorAll(".video").forEach(i)});})();
// @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&dn=expat.txt Expat
// @license-end
//# sourceMappingURL=main.bundle.js.map
